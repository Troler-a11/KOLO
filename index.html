<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KOLO App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background: #000; color: #fff; font-family: 'Inter', sans-serif; overflow: hidden; }
        .kolo-gradient { background: linear-gradient(90deg, #10b981, #000, #ef4444); }
        .hidden { display: none; }
        ::-webkit-scrollbar { width: 0; }
    </style>
</head>
<body class="flex flex-col h-screen max-w-md mx-auto border-x border-gray-900">

    <div id="auth-screen" class="flex-1 flex flex-col justify-center p-8 bg-black">
        <h1 class="text-5xl font-black text-green-500 mb-2">KOLO</h1>
        <p class="text-gray-400 mb-8">–í–≤–µ–¥–∏ –Ω–æ–º–µ—Ä –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ–¥—É 5+1</p>
        <input id="phone" type="tel" placeholder="+380..." class="bg-gray-900 p-4 rounded-xl mb-4 border border-gray-800 outline-none focus:border-green-500">
        <button onclick="sendCode()" class="bg-green-600 p-4 rounded-xl font-bold active:scale-95 transition">–û—Ç—Ä–∏–º–∞—Ç–∏ –∫–æ–¥</button>
        
        <div id="code-section" class="hidden mt-6">
            <p id="generated-code" class="text-center text-red-500 font-mono text-2xl mb-4 tracking-widest"></p>
            <input id="v-code" type="text" placeholder="–í–≤–µ–¥—ñ—Ç—å –∫–æ–¥ —Å—é–¥–∏" class="w-full bg-gray-900 p-4 rounded-xl mb-4 border border-red-800 outline-none">
            <button onclick="verify()" class="w-full bg-red-600 p-4 rounded-xl font-bold">–£–≤—ñ–π—Ç–∏ –≤ KOLO</button>
        </div>
    </div>

    <div id="app-screen" class="hidden flex flex-col h-full">
        <header class="p-4 flex justify-between items-center border-b border-gray-900">
            <span class="text-2xl font-bold text-green-500">KOLO</span>
            <div class="flex gap-4">
                <button onclick="showPage('bazar')" class="text-red-500 font-bold">BAZAR</button>
                <button onclick="showPage('chat')">üí¨</button>
            </div>
        </header>

        <main id="content" class="flex-1 overflow-y-auto p-4 pb-20">
            <div id="page-feed" class="space-y-6">
                <div class="bg-gray-900 p-4 rounded-2xl border border-gray-800">
                    <textarea id="post-text" placeholder="–©–æ –Ω–æ–≤–æ–≥–æ?" class="bg-transparent w-full outline-none mb-2"></textarea>
                    <button onclick="addPost()" class="bg-green-500 px-4 py-1 rounded-full text-sm font-bold">–ü–æ—Å—Ç–∏—Ç–∏</button>
                </div>
                <div id="feed-items" class="space-y-6"></div>
            </div>

            <div id="page-bazar" class="hidden space-y-4">
                <h2 class="text-xl font-bold text-red-500">Bazar Market</h2>
                <div class="bg-gray-900 p-4 rounded-2xl">
                    <input id="item-name" placeholder="–ù–∞–∑–≤–∞ —Ç–æ–≤–∞—Ä—É" class="bg-transparent block w-full mb-2 border-b border-gray-800">
                    <input id="item-price" placeholder="–¶—ñ–Ω–∞" class="bg-transparent block w-full mb-4 border-b border-gray-800">
                    <button onclick="addBazarItem()" class="w-full bg-red-600 py-2 rounded-xl font-bold">–í–∏—Å—Ç–∞–≤–∏—Ç–∏ –Ω–∞ –±–∞–∑–∞—Ä</button>
                </div>
                <div id="bazar-items" class="grid grid-cols-2 gap-4"></div>
            </div>

            <div id="page-chat" class="hidden flex flex-col h-full">
                <div id="chat-messages" class="flex-1 space-y-2 mb-4"></div>
                <div class="flex gap-2">
                    <input id="chat-input" class="flex-1 bg-gray-900 p-3 rounded-xl outline-none" placeholder="–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è...">
                    <button onclick="sendMessage()" class="bg-green-500 p-3 rounded-xl">‚û°</button>
                </div>
            </div>
        </main>

        <nav class="fixed bottom-0 max-w-md w-full bg-black border-t border-gray-900 flex justify-around p-4">
            <button onclick="showPage('feed')" class="text-2xl">üì±</button>
            <button class="text-2xl opacity-50">üéµ</button>
            <button onclick="showPage('bazar')" class="text-2xl">üõí</button>
            <button onclick="location.reload()" class="text-2xl">üë§</button>
        </nav>
    </div>

    <script>
        // –õ–æ–≥—ñ–∫–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó
        let tempCode = "";
        function sendCode() {
            if(!document.getElementById('phone').value) return alert('–í–≤–µ–¥—ñ—Ç—å –Ω–æ–º–µ—Ä');
            const digits = Math.floor(10000 + Math.random() * 90000);
            const letter = "ABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(Math.random() * 26)];
            tempCode = digits + letter;
            document.getElementById('generated-code').innerText = "–¢–≤—ñ–π –∫–æ–¥: " + tempCode;
            document.getElementById('code-section').classList.remove('hidden');
        }

        function verify() {
            if(document.getElementById('v-code').value.toUpperCase() === tempCode) {
                document.getElementById('auth-screen').classList.add('hidden');
                document.getElementById('app-screen').classList.remove('hidden');
                loadData();
            } else { alert('–ù–µ–≤—ñ—Ä–Ω–∏–π –∫–æ–¥!'); }
        }

        // –ù–∞–≤—ñ–≥–∞—Ü—ñ—è
        function showPage(page) {
            ['page-feed', 'page-bazar', 'page-chat'].forEach(p => document.getElementById(p).classList.add('hidden'));
            document.getElementById('page-' + page).classList.remove('hidden');
        }

        // –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª
        function addPost() {
            const text = document.getElementById('post-text').value;
            if(!text) return;
            const post = `<div class="bg-gray-900 rounded-2xl overflow-hidden border border-gray-800"><div class="p-4"><p class="font-bold text-green-400">@user</p><p>${text}</p></div></div>`;
            document.getElementById('feed-items').insertAdjacentHTML('afterbegin', post);
            document.getElementById('post-text').value = "";
        }

        function addBazarItem() {
            const name = document.getElementById('item-name').value;
            const price = document.getElementById('item-price').value;
            const item = `<div class="bg-gray-900 p-3 rounded-xl border border-red-900/30 text-center"><div class="w-full aspect-square bg-gray-800 rounded-lg mb-2"></div><p class="font-bold">${name}</p><p class="text-red-500">${price} –≥—Ä–Ω</p></div>`;
            document.getElementById('bazar-items').insertAdjacentHTML('afterbegin', item);
        }

        function sendMessage() {
            const msg = document.getElementById('chat-input').value;
            if(!msg) return;
            document.getElementById('chat-messages').innerHTML += `<div class="flex justify-end text-sm"><p class="bg-green-600 p-2 rounded-l-xl rounded-tr-xl">${msg}</p></div>`;
            document.getElementById('chat-input').value = "";
        }
    </script>
</body>
</html>
